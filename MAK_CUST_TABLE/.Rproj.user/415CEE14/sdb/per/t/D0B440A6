{
    "contents" : "setwd(\"C:/SQLDEVELOPER_CODE_PROD/MAK_CUST_TABLE\")\n\ndf_cust_table <- read.csv(\"MAK_DWIGHTS_MAK_CUST_DATA.csv\", header=TRUE, sep=\"|\")\nnames(df_cust_table) <- tolower(names(df_cust_table))\n\ndf_cust_table$needshipdate <- as.Date(df_cust_table$needshipdate)\ndf_cust_table$needarrivdate <- as.Date(df_cust_table$needarrivdate)\ndf_cust_table$schedarrivdate <- as.Date(df_cust_table$schedarrivdate)\ndf_cust_table$schedshipdate <- as.Date(df_cust_table$schedshipdate)\ndf_cust_table$run_date <- as.Date(df_cust_table$run_date)\n\ncounts <- table(df_cust_table$status)\np1_counts <- table(df_cust_table$p1)\n\nbarplot(counts, main=\"Order Pegging Status\"\n              , xlab=\"Order Status\"\n              , col=\"blue\"\n)\nlegend(\"topright\", lty = c(1), lwd=c(2.5), \n       col = c(  \"blue\")\n       ,cex=0.9\n       ,legend = c( \"0-Unmet\"\n                  , \"1-Pegged Orders\"\n                  , \"2-Pegged Deliveries\"\n                  , \"3-Pegged Unused Del\"\n                  , \"4-Pegged Unused Orders\"\n                  , \"5-Pegged Del Collections\"\n                  , \"6-Pegged Ord Collecions\"\n                  , \"9-INTRANSIT Records\"\n                  ,\"10-Old Orders\"\n                    \n                  )\n)\n\nbarplot(p1_counts, main=\"P1 Status\", xlab=\"Order Status\", col=\"blue\")\n\n\ndf_le_500_f1 <- df_cust_table[df_cust_table$firmsw==1 & df_cust_table$distance <= 500 ,]\nsummary(df_le_500_f1$distance)\n\ndf_le_500_f1 <- df_cust_table[df_cust_table$firmsw==1 & df_cust_table$distance <= 500 ,]\nsummary(df_le_500_f1$distance)\nhist(df_le_500_f1$distance, label=TRUE\n       , c(0,50,100,150,200,250,300,350,400,450,500)\n       , main=\"Histogram of Number of Loads By Distance Firmsw=1\"\n       , xlab=\"Length of Haul\"\n       , ylab=\"Number of Loads\"\n       , col=\"lightblue\"\n)\n\n\ndf_le_500_s1 <- df_cust_table[df_cust_table$status==1 & df_cust_table$distance <= 500 ,]\nsummary(df_le_500_s1$distance)\nhist(df_le_500_s1$distance, label=TRUE\n     , c(0,50,100,150,200,250,300,350,400,450,500)\n     , main=\"Histogram of Number of Loads By Distance Status=1\"\n     , xlab=\"Length of Haul\"\n     , ylab=\"Number of Loads\"\n     , col=\"lightblue\"\n)\n\ndf_le_500_s2 <- df_cust_table[df_cust_table$status==2 & df_cust_table$distance <= 500 ,]\nsummary(df_le_500_s2$distance)\nhist(df_le_500_s2$distance, label=TRUE\n     , c(0,50,100,150,200,250,300,350,400,450,500)\n     , main=\"Histogram of Number of Loads By Distance Status=2\"\n     , xlab=\"Length of Haul\"\n     , ylab=\"Number of Loads\"\n     , col=\"lightblue\"\n)\n\n\ndf_le_500_P1 <- df_cust_table[df_cust_table$p1==1 & df_cust_table$distance <= 500 ,]\nsummary(df_le_500_P1$distance)\nhist(df_le_500_P1$distance, label=TRUE\n     , c(0,50,100,150,200,250,300,350,400,450,500)\n     , main=\"Histogram of Number of Loads By Distance P1=1\"\n     , xlab=\"Length of Haul\"\n     , ylab=\"Number of Loads\"\n     , col=\"lightblue\"\n)\n\ndf_le_500_P0 <- df_cust_table[df_cust_table$p1==0 & df_cust_table$distance <= 500 ,]\nsummary(df_le_500_P0$distance)\nhist(df_le_500_P0$distance, label=TRUE\n     , c(0,50,100,150,200,250,300,350,400,450,500)\n     , main=\"Histogram of Number of Loads By Distance P1=0\"\n     , xlab=\"Length of Haul\"\n     , ylab=\"Number of Loads\"\n     , col=\"lightblue\"\n)\n\n\n\nwith ( data=df_avg_dist_f1, plot(needarrivdate\n                                  , distance\n                                  , type='b'\n                                  , main=\"FirmSw=1\"\n                                  , ylim=c(0,250)\n                                  , pch=19\n                                  , col='green'\n                                )\n     )\n\ndf_avg_dist_s1 <- aggregate(distance ~ needarrivdate, df_le_500_s1, mean)\nwith ( data=df_avg_dist_s1, plot(needarrivdate\n                                  , distance\n                                  , type='b'\n                                  , main=\"Status=1\"\n                                  , ylim=c(0,250)\n                                  , pch=20\n                                  , col='red'\n                                )\n)\n\ndf_avg_dist_s2 <- aggregate(distance ~ needarrivdate, df_le_500_s2, mean)\nwith ( data=df_avg_dist_s2, plot(needarrivdate\n                                  , distance\n                                  , type='b'\n                                  , main=\"Status=2\"\n                                  , ylim=c(0,250)\n                                  , pch=21\n                                  , col='blue'\n                                 )\n)\n\ndf_avg_dist_s2 <- aggregate(distance ~ needarrivdate, df_le_500_s2, mean)\nwith ( data=df_avg_dist_s2, plot(needarrivdate\n                                 , distance\n                                 , type='b'\n                                 , main=\"Status=2\"\n                                 , ylim=c(0,250)\n                                 , pch=21\n                                 , col='blue'\n)\n)\n\ndf_cust_data <- df_cust_table[  df_cust_table$needarrivdate>=as.Date('2016-03-08')\n                             ,c(\"p1\", \"needarrivdate\", \"distance\")]\navg_dist_p0 <- df_cust_data[df_cust_data$p1==0,c(\"needarrivdate\", \"distance\")]\ndf_avg_dist_p0 <- aggregate(distance ~ needarrivdate, avg_dist_p0, mean)\n\navg_dist_p1 <- df_cust_data[df_cust_data$p1==1,c(\"needarrivdate\", \"distance\")]\ndf_avg_dist_p1 <- aggregate(distance ~ needarrivdate, avg_dist_p1, mean)\n\navg_dist_p2 <- df_cust_data[df_cust_data$p1==2,c(\"needarrivdate\", \"distance\")]\ndf_avg_dist_p2 <- aggregate(distance ~ needarrivdate, avg_dist_p2, mean)\n\navg_dist_pall <- df_cust_data[df_cust_data$p1 %in% c(0,1),c(\"needarrivdate\", \"distance\")]\ndf_avg_dist_pall <- aggregate(distance ~ needarrivdate, avg_dist_pall, mean)\n\n\n\ndf_avg_dist_p2\n\n\nplot(df_avg_dist_p0$needarrivdate, df_avg_dist_p0$distance\n                     , col=\"blue\"\n                     ,type='b'\n                     , pch=19\n                     , ylim=c(0,300))\nlines(df_avg_dist_p1$needarrivdate, df_avg_dist_p1$distance, col=\"red\", pch=19, lwd=4)\nlines(df_avg_dist_p2$needarrivdate, df_avg_dist_p2$distance, col=\"pink\", pch=19, lwd=4)\nlines(df_avg_dist_pall$needarrivdate, df_avg_dist_pall$distance, col=\"darkgreen\", pch=19, lwd=4)\nlegend(\"topright\", lty = c(1)\n                 , lwd=c(2.5)\n                 ,col = c(\"blue\", \"red\", \"pink\",\"darkgreen\"), \n                 ,cex=0.9\n                 ,legend = c( \"p1=does't match\"\n                            , \"p1=matches\"\n                            , \"p1=not exists\"\n                            , \"p1=all\"\n                 )\n)\nabline(h=c(\"100\"), lwd=4, lty=1)\n",
    "created" : 1456512492815.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "152549443",
    "id" : "D0B440A6",
    "lastKnownWriteTime" : 1457451170,
    "path" : "C:/SQLDEVELOPER_CODE_PROD/MAK_CUST_TABLE/MAK_DWIGHT_MAK_CUST.R",
    "project_path" : "MAK_DWIGHT_MAK_CUST.R",
    "properties" : {
        "tempName" : "Untitled1"
    },
    "relative_order" : 1,
    "source_on_save" : false,
    "type" : "r_source"
}